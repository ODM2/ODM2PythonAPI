language: python
python:
#  - "2.6"
  - "2.7"
#  - "3.2"
#  - "3.3"
#  - "3.4"
#  - "3.5"
#  - "3.5-dev" # 3.5 development branch
#  - "nightly" # currently points to 3.6-dev
# command to install dependencies
install:
  # patterned after: https://github.com/ptrv/gpx2spatialite/blob/master/.travis.yml
  - sudo apt-get install -y python-software-properties
  - sudo apt-add-repository -y ppa:git-core/ppa
  - sudo apt-add-repository -y ppa:ubuntugis/ppa
  - sudo apt-get update -qq
  - sudo apt-get install unixodbc  unixodbc-dev tdsodbc
  - sudo apt-get install freetds-dev freetds-bin
  - sudo apt-get install libc6 llibkrb5-3 krb5-libs e2fsprogs glibc # mssql driver
  # Spatialiate
  - sudo apt-get install -y libproj-dev libgeos-dev libspatialite-dev
  - sudo ln -s /usr/lib/x86_64-linux-gnu/libspatialite.so /usr/lib/libspatialite.so
    #
  - pip install git+https://github.com/ODM2/geoalchemy.git@odm2#egg=geoalchemy-0.7.3
  - pip install .
  - pip install -r requirements_tests.txt  --allow-external pyodbc --allow-unverified pyodbc
    # pysqlite
  - pip install pysqlite



# command to run tests
script:
# just the connection part
  - py.test tests/test_connection.py
  - py.test

